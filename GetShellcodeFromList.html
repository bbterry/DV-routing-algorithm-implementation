<html>
<!-- CSCI 6542, Kevin Yasuda -->
<br>
Listing:<br>
<textarea id="list" rows="15" cols="70"></textarea>
<br>
<input type="button" onclick="convert()" value="Submit"></input>
<br>
<br>
<br>
Results:
<br>
<textarea id="shellcode" rows="15" cols="70"></textarea>


<script>
function convert() {
	var txt = document.getElementById("list").value.replace(/\n/g, "\r");
	var result = "";
	var lines = txt.split("\r");
	for( var i = 0; i < lines.length; i++ ) {
		lines[i] = lines[i].replace(/\s+/g, " ");	//compress whitespace
		lines[i] = lines[i].replace(/^\s*|\s*$/g, "");	//trim whitespace
		var parts = lines[i].split(" ");
		if( parts != null && parts.length >= 4 ) {
			result +=  parts[2];
		}
	}
	//document.getElementById("shellcode").value = result;
	// create as shellcode
	var result2 = "";
	for( var j = 0; j < result.length; j+=2 ) {
		var code = "\\x" + result.charAt(j) + result.charAt(j+1);
		result2 += code;
	}
	document.getElementById("shellcode").value = 'char shellcode[] = "' + result2 + '";';

}
</script>

</html>